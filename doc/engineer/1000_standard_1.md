
## 3.10 预处理
### P.23-CPP 避免使用宏
【描述】
宏会忽略作用域，类型系统以及各种规则，容易引发问题。应尽量避免使用宏定义，如果必须使用宏，
要保证宏名字的唯一性。
一种做法是使用足够长的名字来减少名字冲突的可能性。
```
#define NAME ... // 不符合：名字太短，不具有唯一性，容易冲突
```
```
```

在C++中，有许多方式来避免使用宏：
用const或enum定义易于理解的常量
用namespace避免名字冲突
用inline函数避免函数调用的开销
用template函数来处理多种类型
在文件头保护宏、条件编译、日志记录等必要场景中可以使用宏。
G.PRE.01-CPP 禁止使用宏来表示常量
【级别】 要求
【描述】
宏是简单的文本替换，在预处理阶段时完成，运行报错时直接报相应的值；跟踪调试时也是显示值，而
不是宏名；宏没有类型检查，不安全；宏没有作用域。
【反例】
可以使用其他类型表示常量时，不要使用宏。
【正例】
【例外】
在不能使用其他类型常量代替宏的情况下，允许使用宏。