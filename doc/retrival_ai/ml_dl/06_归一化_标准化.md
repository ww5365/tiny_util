# 数据归一化和标准化处理


## 最大最小归一化处理


## z-score


* 标准化的目的
  
  1）**数据可比性**：不同量级的数据统一转化为同一个量级，统一用计算出的Z-score值衡量，以保证数据之间的可比性
  2）标准化后的变量值围绕0上下波动，大于0说明高于平均水平，小于0说明低于平均水平；Z-score本身没有实际意义，它的现实意义需要在比较中得以实现，这也是Z-score的缺点
  3）Z分数越高或越低，结果就越不可能偶然发生，结果就越有可能有意义

* z-score的经验和应用实例

正常Z值区间为[-3,3]呢？这是一个纯统计学问题，大家记住即可：Z值落在区间[-3,3]，我们所测值在总群体的发生概率为**99.7%**，超出这个区间的概率为0.3%。

假设国家女排队员身高平均值1.94米，标准差0.2（标准差代表了不同队员身高值的差异程度，又称为变异度）。某天，有一位身高1.2米的女子提出想申请加入国家队，我们如何衡量这名女子与国家女排队员的身高差异程度呢？
第一，这名女子的身高离女排队的平均身高相差有多远？
实测值-平均值=1.2-1.94=-0.74（米）

第二，上述差值（-0.74米）是一个数值，在国家队中这个差别是什么概念，能否量化？我们已知国家女排队员身高的差异程度是标准差，那如果我们计算出上述差值是标准差的多少倍，就可以用来表达这个差值的变异程度。
实测值-平均值/标准差=-0.74/0.2=-3.7（倍）这里的-3.7就是Z值。

同理，一名身高2.6米的女子申请加入国家女排队，她的身高Z值为3.3。

所以，上面例子中1.2米和2.6米身高的两名女子出现在国排队的概率均小于0.3%，均不满足身高要求。事实上，国家女子排队的身高Z值区间标准可能更小，如[-0.5，0.5]。

**注意这里的经验值，[-3, +3]是在99.7%的概率的，这种情况也可直观的看出某些异常值**


* z-score的计算

$$x^* = (x-μ)/δ$$

其中μ是均值，δ是标准差

附标准差计算

$$δ=\sqrt{\frac{1}{N}\sum_i(x_i-μ)^2}$$


``` python 

import numpy as np
from sklearn import preprocessing
X = np.array([[1., -1., 2.],  #创建一个原始数据：3x3
              [2., 0., 0.]
              [0., 1., -1.]])
scaler = preprocessing.StandardScaler().fit(X)
print(scaler.mean_)  # 计算每一列的均值
print(scaler.var_)  # 计算每一列的方差
newX = scaler.transform(X)  # 将特征值减去均值，除以标准差。
print(newX)

'''
scaler = preprocessing.StandardScaler().fit(X)
scaler对象中保存了训练集中的参数（均值、方差），它直接使用其对象转换测试集数据。

newX = scaler.transform(X)
特征值（原始值）减去均值，除以标准差
'''

```


## 参考

1. 什么是Z-score?有哪些使用场景？: 
https://www.jianshu.com/p/0ac4f9d1698c

2. 【Deep Learning】数据预处理(z-score标准化) ： https://blog.csdn.net/weixin_43519707/article/details/103543703


